/*!
 * havLightbox v0.1 (https://www.havocspage.net)
 * Copyright 2024 RenÃ© Nicolaus
 * Licensed under MIT (https://github.com/Havoc2/havLightbox/blob/main/LICENSE)
 */
document.addEventListener("DOMContentLoaded",(e=>{function t(){var e=document.querySelector(".havlightbox"),t=e.querySelector(".havlightbox-image-container img"),l=e.querySelector(".havlightbox-caption"),n=e.querySelector(".havlightbox-image-counter");e.classList.remove("open");var i=e.querySelector(".havlightbox-prev-button"),o=e.querySelector(".havlightbox-next-button");i.style.display="none",o.style.display="none",l.innerText="",n.innerText="",e.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),setTimeout((()=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.style.display="none"}),500)}function l(e,t){var l=e.querySelector(".havlightbox-prev-button"),n=e.querySelector(".havlightbox-next-button");t.length<2?(l.style.display="none",n.style.display="none"):(l.style.display="block",n.style.display="block")}function n(e){document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach(((t,l)=>{l===e?t.classList.add("selected"):t.classList.remove("selected")}))}document.querySelectorAll(".havlightbox-gallery").forEach((e=>{e.querySelectorAll(".havlightbox-thumbnail").forEach((i=>{i.addEventListener("click",(()=>{!function(e,i){if(e){var o=new URL(i,window.location.href).href,a=document.querySelector(".havlightbox"),r=a.querySelector(".havlightbox-image-container"),c=r.querySelector("img"),h=a.querySelector(".havlightbox-caption"),s=a.querySelector(".havlightbox-image-counter"),d=a.querySelector(".havlightbox-thumbnail-selection");if(a&&r&&c&&h&&s&&d){var u=[],y=[],v=0;if(e.querySelectorAll(".havlightbox-thumbnail").forEach((e=>{u.push(new URL(e.dataset.havlightboxImage,window.location.href).href),y.push(e.getAttribute("alt"))})),-1!==(v=u.indexOf(o))){a.style.display="block",c.src=o,h.innerText=y[v],s.innerText=v+1+" / "+u.length,d.innerHTML="",u.forEach(((e,t)=>{var l=document.createElement("img");l.src=e,l.alt=t+1,l.classList.add("havlightbox-thumbnail-selection-item"),t===v&&l.classList.add("selected"),l.addEventListener("click",(()=>{var e=Array.from(l.parentNode.children).indexOf(l);e!==v&&(v=e,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),l.classList.add("selected"),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length)})),d.appendChild(l)})),a.addEventListener("click",(e=>{e.target===a&&t()})),setTimeout((()=>{a.classList.add("open")}),50);var g=a.querySelector(".havlightbox-prev-button"),b=a.querySelector(".havlightbox-next-button");g.addEventListener("click",(()=>{--v<0&&(v=u.length-1),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length,n(v),l(a,u)})),b.addEventListener("click",(()=>{++v>=u.length&&(v=0),c.src=u[v],h.innerText=y[v],s.innerText=v+1+" / "+u.length,n(v),l(a,u)})),function(e,t){var l=e.querySelector(".havlightbox-image-counter");t.length<2?l.style.display="none":l.style.display="block"}(a,u),function(e,t){var l=e.querySelector(".havlightbox-thumbnail-selection");t.length<2?l.style.display="none":l.style.display="flex"}(a,u),l(a,u)}}}}(e,i.dataset.havlightboxImage)}))}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()})),document.querySelector(".havlightbox-close").addEventListener("click",t)}));